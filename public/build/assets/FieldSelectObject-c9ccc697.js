import{o as a,f as s,b as l,r as g,t as r,n as f,a as n,w as d,u as o,g as i,F as x,s as b,z as h,c as v}from"./app-c9b883a8.js";import{r as k,a as w}from"./ChevronUpDownIcon-d1f90bb6.js";import{N as q,H as B,U as V,B as S,r as j}from"./listbox-f48407f7.js";import"./hidden-c9556a5a.js";import"./use-tracked-pointer-cca63930.js";const C=["for"],N={class:"mt-1 sm:col-span-2 sm:mt-0"},$={class:"relative mt-1"},z={key:0,class:"block truncate"},F={key:1,class:"block truncate text-gray-400"},L={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},O={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-sky-600"},U={key:1,class:"text-sm text-gray-500"},H={key:0,class:"mt-2 text-sm text-gray-500"},D={key:0,class:"ml-2 mt-1 text-xs text-red-500"},E={key:1,class:"mt-0.5 flex flex-wrap items-center space-x-0.5"},T=["onClick"],M={__name:"FieldSelectObject",props:{label:{type:String,required:!0},hideLabel:{type:Boolean,required:!1,default:()=>!1},name:{type:String,required:!0},items:{type:Object,required:!0,default:[]},value:{type:Object,required:!1},required:{type:Boolean,required:!1},error:{type:String,required:!1},multiple:{type:Boolean,required:!1},description:{type:String,required:!1}},setup(t){const c=t;return(m,y)=>(a(),s("div",null,[l("label",{for:t.name,class:f([{"sr-only":t.hideLabel},"mb-3 flex space-x-1 sm:mt-px sm:pt-2"])},[g(m.$slots,"icon"),l("span",null,r(t.label),1)],10,C),l("div",N,[n(o(S),{multiple:t.multiple||!1,modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=e=>m.$emit("update:modelValue",e)),by:"id"},{default:d(()=>[l("div",$,[n(o(q),{class:"block w-full text-left rounded-md border-0 bg-slate-100 h-10 px-4 p-1.5 text-gray-500 placeholder-gray-400 focus:border-slate-300 focus:ring-slate-300"},{default:d(()=>{var e;return[t.value?(a(),s("span",z,r(c.multiple?t.value.map(u=>u.name).join(", "):t.value.name),1)):i("",!0),((e=t.value)==null?void 0:e.length)===0?(a(),s("span",F,r(t.label),1)):i("",!0),l("span",L,[n(o(k),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]}),_:1}),n(h,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[n(o(B),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-sm ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:d(()=>[(a(!0),s(x,null,b(t.items,e=>(a(),v(o(V),{key:e==null?void 0:e.id,value:e,as:"template"},{default:d(({active:u,selected:p})=>[l("li",{class:f([u?"bg-sky-100 text-sky-900":"text-gray-900","relative cursor-pointer select-none py-2 pl-10 pr-4"])},[l("span",{class:f([p?"font-medium":"font-normal","block truncate"])},r(e==null?void 0:e.name),3),p?(a(),s("span",O,[n(o(w),{class:"h-5 w-5","aria-hidden":"true"})])):i("",!0),e!=null&&e.description?(a(),s("span",U,r(e.description),1)):i("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),c.description?(a(),s("p",H,r(c.description),1)):i("",!0)]),_:1},8,["multiple","modelValue"]),t.error?(a(),s("p",D,r(t.error),1)):i("",!0),t.multiple&&t.value.length>0?(a(),s("div",E,[(a(!0),s(x,null,b(t.value,e=>(a(),s("button",{type:"button",key:e.id,class:"mt-0.5 flex items-center justify-center space-x-2 rounded bg-slate-100 py-1 pl-3 pr-2 text-xs text-gray-500 hover:bg-gray-200",onClick:()=>m.$emit("update:modelValue",t.value.filter(u=>u.id!==e.id))},[l("span",null,r(e.name),1),n(o(j),{class:"h-3 w-3"})],8,T))),128))])):i("",!0)])]))}};export{M as default};
