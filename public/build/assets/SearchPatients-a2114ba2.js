import{p as f,T as j,q as V,s as M,P as B,o as r,f as h,b as e,i as Z,a,w as l,u as o,F as x,n as g,c as w,g as _,x as S,t as m}from"./app-24a5834a.js";import{d as D}from"./index-d673e21e.js";import H from"./LoaderSmall-2df227b5.js";import $ from"./Modal-ca7a5398.js";import P from"./FormPatientDetails-7c62c261.js";import{Q as z,Y as L,X as N,J as U}from"./combobox-5baaa23a.js";import{S as q,h as F}from"./transition-6e04a2ba.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./helpers-41226ef1.js";import"./hidden-a9b7010e.js";import"./disposables-ed35e013.js";import"./FieldDatePicker-45a2d242.js";/* empty css                                                        */import"./FieldSelect-55e8073d.js";import"./FieldInput-e2601917.js";import"./Loader-f575573e.js";import"./use-tracked-pointer-fbb95acd.js";const J={class:"flex flex-col bg-white px-8 py-6 sm:rounded-tl-none sm:rounded-tr-lg md:flex-row md:items-center md:justify-between md:gap-10"},Q={class:"grid w-full grid-cols-1 gap-4 lg:grid-cols-12"},X={class:"flex flex-col space-y-1 lg:col-span-9 lg:flex-row lg:items-center lg:space-x-2 lg:space-y-0"},Y=e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"shrink-0"},[e("path",{d:"M14 14L10 10M11.3333 6.66667C11.3333 7.2795 11.2126 7.88634 10.9781 8.45252C10.7436 9.01871 10.3998 9.53316 9.9665 9.9665C9.53316 10.3998 9.01871 10.7436 8.45252 10.9781C7.88634 11.2126 7.2795 11.3333 6.66667 11.3333C6.05383 11.3333 5.447 11.2126 4.88081 10.9781C4.31462 10.7436 3.80018 10.3998 3.36683 9.9665C2.93349 9.53316 2.58975 9.01871 2.35523 8.45252C2.12071 7.88634 2 7.2795 2 6.66667C2 5.42899 2.49167 4.242 3.36683 3.36683C4.242 2.49167 5.42899 2 6.66667 2C7.90434 2 9.09133 2.49167 9.9665 3.36683C10.8417 4.242 11.3333 5.42899 11.3333 6.66667Z",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),E=e("label",{for:"search",class:"shrink-0 font-medium"},"Pretraga pacijenata",-1),K={class:"relative w-full"},O={class:"flex items-center justify-between"},T={class:"pr-4"},A=e("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13.5 6.75V9V6.75ZM13.5 9V11.25V9ZM13.5 9H15.75H13.5ZM13.5 9H11.25H13.5ZM9.75 5.25C9.75 6.04565 9.43393 6.80871 8.87132 7.37132C8.30871 7.93393 7.54565 8.25 6.75 8.25C5.95435 8.25 5.19129 7.93393 4.62868 7.37132C4.06607 6.80871 3.75 6.04565 3.75 5.25C3.75 4.45435 4.06607 3.69129 4.62868 3.12868C5.19129 2.56607 5.95435 2.25 6.75 2.25C7.54565 2.25 8.30871 2.56607 8.87132 3.12868C9.43393 3.69129 9.75 4.45435 9.75 5.25V5.25ZM2.25 15C2.25 13.8065 2.72411 12.6619 3.56802 11.818C4.41193 10.9741 5.55653 10.5 6.75 10.5C7.94347 10.5 9.08807 10.9741 9.93198 11.818C10.7759 12.6619 11.25 13.8065 11.25 15V15.75H2.25V15Z",stroke:"#9B1C1C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),G=e("span",{class:"uppercase"},"Dodaj novog pacijenta",-1),I=[A,G],ve={__name:"SearchPatients",setup(R){const i=f(!1),d=f(!1),u=f([]),c=f(!1),p=j({keyword:""}),k=D(()=>{i.value=!0,axios.get(route("api.patients.index",{query:p.keyword})).then(n=>{var t;u.value=((t=n==null?void 0:n.data)==null?void 0:t.patients)||[],i.value=!1})},400);V(()=>p.keyword,n=>{k("keyword")});const y=()=>{c.value=!1};return(n,t)=>{const C=M("inertia-link"),b=B("click-outside");return r(),h(x,null,[e("div",J,[e("div",Q,[Z((r(),h("div",X,[a(o(U),{as:"div",class:"flex w-full items-center space-x-4","onUpdate:modelValue":o(p).keyword},{default:l(()=>[Y,E,e("div",K,[a(o(z),{class:g([c.value&&u.value.length>0?"rounded-b-none":"","block w-full rounded-lg border-0 bg-slate-100 px-6 py-3 leading-5 text-gray-900 placeholder-gray-400 focus:border-white focus:outline-none focus:ring-0.5 focus:ring-white focus:ring-offset-1 focus:ring-offset-cyan-600"]),placeholder:"Klikni ovde i počni da kucaš pacijentovo ime, broj telefona ili adresu...",autocomplete:"off",onChange:t[0]||(t[0]=s=>o(p).keyword=s.target.value),onClick:t[1]||(t[1]=s=>c.value=!0)},null,8,["class"]),i.value?(r(),w(H,{key:0,class:"absolute -right-10 top-4 text-gray-600"})):_("",!0),a(o(q),{show:c.value,as:"div",class:"border-b-rounded absolute z-10 mt-0.5 w-full rounded-b-xl bg-white shadow-search"},{default:l(()=>[a(o(F),null,{default:l(()=>[!i.value&&u.value.length>0?(r(),w(o(N),{key:0,static:"",class:"max-h-96 scroll-py-3 overflow-y-auto"},{default:l(()=>[(r(!0),h(x,null,S(u.value,s=>(r(),w(o(L),{key:s.id,value:s,as:"template"},{default:l(({active:v})=>[e("li",{class:g(["flex cursor-pointer select-none",v&&"bg-sky-50"])},[a(C,{href:n.route("patients.show",{slug:s.slug}),class:"flex-auto px-6 py-3"},{default:l(()=>[e("div",O,[e("div",null,[e("p",{class:g(["text-base font-medium","text-gray-900"])},m(s.first_name)+" "+m(s.last_name),3),e("p",{class:g(["text-sm",v?"text-gray-700":"text-gray-500"])},m(`${s.address}, ${s.city}`),3)]),e("span",T,m(s==null?void 0:s.phone),1)])]),_:2},1032,["href"])],2)]),_:2},1032,["value"]))),128))]),_:1})):_("",!0)]),_:1})]),_:1},8,["show"])])]),_:1},8,["onUpdate:modelValue"])])),[[b,y]]),e("button",{type:"button",class:"focus-visible:ring-ring inline-flex items-center justify-center space-x-2 rounded-md bg-red-100 px-4 py-3 text-base text-red-800 transition-colors hover:bg-red-200 focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50 lg:col-span-3",onClick:t[2]||(t[2]=()=>d.value=!0)},I)])]),a($,{open:d.value,title:"Dodaj pacijenta",subtitle:"Unesi podatke novog pacijenta u bazu podataka",type:"big",onClose:t[4]||(t[4]=()=>{d.value=!1})},{default:l(()=>[a(P,{edit:!1,onSuccess:t[3]||(t[3]=()=>d.value=!1)})]),_:1},8,["open"])],64)}}};export{ve as default};
