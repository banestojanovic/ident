import{o as a,f as s,b as l,r as g,t as r,n as f,a as n,w as c,u as o,g as u,F as x,D as b,E as h,c as v}from"./app-9601133b.js";import{r as k,c as w}from"./use-tracked-pointer-5f2c420a.js";import{N as q,H as B,U as V,B as S,r as j}from"./listbox-60291845.js";import"./hidden-fe5360a8.js";const C=["for"],N={class:"mt-1 sm:col-span-2 sm:mt-0"},$={class:"relative mt-1"},F={key:0,class:"block truncate"},L={key:1,class:"block truncate text-gray-400"},O={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},U={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-sky-600"},z={key:1,class:"text-sm text-gray-500"},D={key:0,class:"mt-2 text-sm text-gray-500"},E={key:0,class:"ml-2 mt-1 text-xs text-red-500"},H={key:1,class:"mt-0.5 flex flex-wrap items-center space-x-0.5"},T=["onClick"],K={__name:"FieldSelectObject",props:{label:{type:String,required:!0},hideLabel:{type:Boolean,required:!1,default:()=>!1},name:{type:String,required:!0},items:{type:Object,required:!0,default:[]},value:{type:Object,required:!1},required:{type:Boolean,required:!1},error:{type:String,required:!1},multiple:{type:Boolean,required:!1},description:{type:String,required:!1}},setup(t){const d=t;return(m,y)=>(a(),s("div",null,[l("label",{for:t.name,class:f([{"sr-only":t.hideLabel},"mb-3 flex space-x-1 sm:mt-px sm:pt-2"])},[g(m.$slots,"icon"),l("span",null,r(t.label),1)],10,C),l("div",N,[n(o(S),{multiple:t.multiple||!1,modelValue:t.value,"onUpdate:modelValue":y[0]||(y[0]=e=>m.$emit("update:modelValue",e)),by:"id"},{default:c(()=>[l("div",$,[n(o(q),{class:"block w-full text-left rounded-md border-0 bg-stone-100 h-10 px-4 p-1.5 text-gray-500 placeholder-gray-400 focus:border-stone-300 focus:ring-stone-300"},{default:c(()=>{var e;return[t.value?(a(),s("span",F,r(d.multiple?t.value.map(i=>i.name).join(", "):t.value.name),1)):u("",!0),((e=t.value)==null?void 0:e.length)===0?(a(),s("span",L,r(t.label),1)):u("",!0),l("span",O,[n(o(k),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]}),_:1}),n(h,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:c(()=>[n(o(B),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-sm ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:c(()=>[(a(!0),s(x,null,b(t.items,e=>(a(),v(o(V),{key:e==null?void 0:e.id,value:e,as:"template"},{default:c(({active:i,selected:p})=>[l("li",{class:f([i?"bg-sky-100 text-sky-900":"text-gray-900","relative cursor-pointer select-none py-2 pl-10 pr-4"])},[l("span",{class:f([p?"font-medium":"font-normal","block truncate"])},r(e==null?void 0:e.name),3),p?(a(),s("span",U,[n(o(w),{class:"h-5 w-5","aria-hidden":"true"})])):u("",!0),e!=null&&e.description?(a(),s("span",z,r(e.description),1)):u("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),d.description?(a(),s("p",D,r(d.description),1)):u("",!0)]),_:1},8,["multiple","modelValue"]),t.error?(a(),s("p",E,r(t.error),1)):u("",!0),t.multiple&&t.value.length>0?(a(),s("div",H,[(a(!0),s(x,null,b(t.value,e=>(a(),s("button",{type:"button",key:e.id,class:"mt-0.5 flex items-center justify-center space-x-2 rounded bg-slate-100 py-1 pl-3 pr-2 text-xs text-gray-500 hover:bg-gray-200",onClick:()=>m.$emit("update:modelValue",t.value.filter(i=>i.id!==e.id))},[l("span",null,r(e.name),1),n(o(j),{class:"h-3 w-3"})],8,T))),128))])):u("",!0)])]))}};export{K as default};
