import{o as s,f as a,b as l,d as b,t as r,g as n,a as i,w as d,u as o,F as p,E as g,G as v,c as h,n as x}from"./app-875610e1.js";import{r as k,c as w}from"./use-tracked-pointer-dd255a43.js";import{N as q,H as V,U as B,B as N,r as S}from"./listbox-75348dce.js";import"./hidden-27aa5c29.js";const j={class:"relative flex text-sm font-medium text-gray-700 sm:mt-px sm:pt-3"},C={key:0,class:"relative -left-1 -top-1 text-red-500"},$={class:"mt-1 sm:col-span-2 sm:mt-0"},F={class:"relative mt-1"},O={key:0,class:"block truncate"},U={key:1,class:"block truncate text-gray-400"},z={class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},E={key:0,class:"absolute inset-y-0 left-0 flex items-center pl-3 text-red-600"},H={key:1,class:"text-sm text-gray-500"},T={key:0,class:"mt-2 text-sm text-gray-500"},D={key:0,class:"ml-2 mt-1 text-xs text-red-500"},G={key:1,class:"mt-0.5 flex flex-wrap items-center space-x-0.5"},L=["onClick"],K={__name:"FieldSelectObject",props:{label:{type:String,required:!0},name:{type:String,required:!0},items:{type:Object,required:!0,default:[]},value:{type:Object,required:!1},required:{type:Boolean,required:!1},error:{type:String,required:!1},multiple:{type:Boolean,required:!1},description:{type:String,required:!1}},setup(t){const c=t;return(m,f)=>(s(),a("div",null,[l("label",j,[l("span",null,[b(r(t.label)+" ",1),t.required?(s(),a("span",C,"*")):n("",!0)])]),l("div",$,[i(o(N),{multiple:t.multiple||!1,modelValue:t.value,"onUpdate:modelValue":f[0]||(f[0]=e=>m.$emit("update:modelValue",e)),by:"id"},{default:d(()=>[l("div",F,[i(o(q),{class:"relative h-10 w-full cursor-default rounded-md border border-gray-300 bg-white py-2 pl-3 pr-10 text-left shadow-sm focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-orange-300 sm:text-sm"},{default:d(()=>{var e;return[t.value?(s(),a("span",O,r(c.multiple?t.value.map(u=>u.name).join(", "):t.value.name),1)):n("",!0),((e=t.value)==null?void 0:e.length)===0?(s(),a("span",U,r(t.label),1)):n("",!0),l("span",z,[i(o(k),{class:"h-5 w-5 text-gray-400","aria-hidden":"true"})])]}),_:1}),i(v,{"leave-active-class":"transition duration-100 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:d(()=>[i(o(V),{class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-sm ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:d(()=>[(s(!0),a(p,null,g(t.items,e=>(s(),h(o(B),{key:e==null?void 0:e.id,value:e,as:"template"},{default:d(({active:u,selected:y})=>[l("li",{class:x([u?"bg-red-100 text-red-900":"text-gray-900","relative cursor-default select-none py-2 pl-10 pr-4"])},[l("span",{class:x([y?"font-medium":"font-normal","block truncate"])},r(e==null?void 0:e.name),3),y?(s(),a("span",E,[i(o(w),{class:"h-5 w-5","aria-hidden":"true"})])):n("",!0),e!=null&&e.description?(s(),a("span",H,r(e.description),1)):n("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),c.description?(s(),a("p",T,r(c.description),1)):n("",!0)]),_:1},8,["multiple","modelValue"]),t.error?(s(),a("p",D,r(t.error),1)):n("",!0),t.multiple&&t.value.length>0?(s(),a("div",G,[(s(!0),a(p,null,g(t.value,e=>(s(),a("button",{type:"button",key:e.id,class:"mt-0.5 flex items-center justify-center space-x-2 rounded bg-slate-100 py-1 pl-3 pr-2 text-xs text-gray-500 hover:bg-gray-200",onClick:()=>m.$emit("update:modelValue",t.value.filter(u=>u.id!==e.id))},[l("span",null,r(e.name),1),i(o(S),{class:"h-3 w-3"})],8,L))),128))])):n("",!0)])]))}};export{K as default};
