import{d as V}from"./index-012e1fc9.js";import _ from"./LoaderSmall-5496e833.js";import{W as S,Q as C,G as q,X as B,Y as j,J as F}from"./combobox-bd092deb.js";import{r as N,a as z}from"./ChevronUpDownIcon-853add13.js";import{p as y,q as G,x as J,o as a,c as u,w as o,u as l,a as g,r as L,b as s,t as i,g as d,f as h,s as O,n as v,F as Q}from"./app-a0fca2ef.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./hidden-bc5cc27c.js";import"./use-tracked-pointer-e432de53.js";import"./disposables-ed35e013.js";const W={class:"relative mt-1"},X={class:"text-xs"},Y={class:"text-xs"},D={key:1,class:"ml-2 mt-1 text-xs text-red-500"},T={__name:"FieldCombobox",props:{name:String,label:String,items:Object,modelValue:Object,error:{type:String,required:!1}},emits:["update:modelValue","searched"],setup(r,{emit:k}){const n=r,x=y([]),b=y(""),m=y(!1),p=V(()=>{m.value=!0,axios.get(route("api.patients.index",{query:b.value})).then(t=>{x.value=t.data.patients,k("searched",t.data.patients),m.value=!1})},400);return G(()=>b.value,t=>{p()}),J(()=>{var t;((t=n==null?void 0:n.items)==null?void 0:t.length)<1?p():k("update:modelValue",n.items)}),(t,c)=>(a(),u(l(F),{as:"div","model-value":r.modelValue,"onUpdate:modelValue":c[1]||(c[1]=f=>t.$emit("update:modelValue",f))},{default:o(()=>{var f;return[g(l(S),{class:"mb-2 flex space-x-1 sm:mt-px sm:pt-2"},{default:o(()=>[L(t.$slots,"icon"),s("span",null,i(r.label),1)]),_:3}),s("div",W,[g(l(q),{class:"relative flex w-full items-center rounded-r-md focus:outline-none"},{default:o(()=>[g(l(C),{class:"block w-full rounded-md border-0 bg-stone-100 px-4 p-2 text-gray-900 placeholder-gray-400 focus:border-stone-300 focus:ring-stone-300",onChange:c[0]||(c[0]=e=>b.value=e.target.value),placeholder:"Počnite da unosite ime pacijenta",autocomplete:"off","display-value":e=>e?`${e==null?void 0:e.first_name} ${e==null?void 0:e.last_name}`:""},null,8,["display-value"]),m.value?d("",!0):(a(),u(l(N),{key:0,class:"absolute inset-y-0 right-2 top-2.5 h-5 w-5 text-gray-400","aria-hidden":"true"})),m.value?(a(),u(_,{key:1,class:"absolute inset-y-0 right-2 top-2.5 h-5 w-5 text-gray-400"})):d("",!0)]),_:1}),((f=x.value)==null?void 0:f.length)>0?(a(),u(l(B),{key:0,class:"absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm"},{default:o(()=>[(a(!0),h(Q,null,O(x.value,e=>(a(),u(l(j),{key:e.id,value:e,as:"template"},{default:o(({active:w,selected:$})=>[s("li",{class:v(["relative cursor-pointer select-none py-2 pl-3 pr-9",w?"bg-sky-100 text-black":"text-gray-900"])},[s("div",null,[s("span",{class:v(["block truncate",$&&"font-semibold"])},i(`${e.first_name} ${e.last_name}`),3),s("span",X,i(`${e==null?void 0:e.address} ${e==null?void 0:e.city}`),1),s("span",Y,i(` | ${e==null?void 0:e.phone}`),1)]),$?(a(),h("span",{key:0,class:v(["absolute inset-y-0 right-0 flex items-center pr-4","text-black"])},[g(l(z),{class:"h-5 w-5","aria-hidden":"true"})],2)):d("",!0)],2)]),_:2},1032,["value"]))),128))]),_:1})):d("",!0),r.error?(a(),h("p",D,i(r.error),1)):d("",!0)])]}),_:3},8,["model-value"]))}};export{T as default};
