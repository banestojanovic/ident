import{d as N}from"./helpers-41226ef1.js";import R from"./FormPatientRecord-ec33e312.js";import Z from"./ConfirmDialog-0f870fc7.js";import{p,B as A,h as M,C as I,T as E,o as s,f as n,b as e,F as v,s as _,t as a,g as x,a as $,n as o,D as G,u as P}from"./app-c9b883a8.js";/* empty css                                                        */import"./FieldInput-8c4fe83f.js";import"./FieldSelectObject-c9ccc697.js";import"./ChevronUpDownIcon-d1f90bb6.js";import"./listbox-f48407f7.js";import"./hidden-c9556a5a.js";import"./use-tracked-pointer-cca63930.js";import"./FieldTextarea-dd2f3d0d.js";import"./Loader-70e5ad97.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ExclamationTriangleIcon-ef04aed5.js";import"./transition-73c20fb7.js";import"./disposables-ed35e013.js";const q={class:"col-span-9 mt-1 overflow-hidden"},J={class:"mb-1 flex flex-col space-y-10 bg-white p-10"},K={class:"mx-auto grid grid-cols-2 gap-6"},Q={class:"grid grid-cols-8 gap-2"},U=["onClick"],W=["src"],X={class:"mx-2 grid grid-cols-8"},Y=["onClick"],ee=["src"],te={class:"mx-2 grid grid-cols-8"},se=["onClick"],ne=["src"],ie={class:"mx-2 grid grid-cols-8"},le=["onClick"],ae=["src"],oe={key:0,class:"grid grid-cols-12 gap-1"},ce={class:"col-span-2 flex items-center justify-center bg-white px-6 py-3 text-3xl font-medium text-gray-500"},re={class:"col-span-7 flex items-center space-x-1 bg-white px-6 py-3"},de={class:"text-3xl"},ue={key:0},pe={key:1},ve={class:"col-span-3"},me=e("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"shrink-0"},[e("path",{d:"M8.24992 11H13.7499M8.24992 14.6667H13.7499M15.5833 19.25H6.41659C5.93035 19.25 5.46404 19.0568 5.12022 18.713C4.77641 18.3692 4.58325 17.9029 4.58325 17.4167V4.58333C4.58325 4.0971 4.77641 3.63079 5.12022 3.28697C5.46404 2.94315 5.93035 2.75 6.41659 2.75H11.5371C11.7802 2.75005 12.0133 2.84666 12.1852 3.01858L17.148 7.98142C17.3199 8.15328 17.4165 8.3864 17.4166 8.6295V17.4167C17.4166 17.9029 17.2234 18.3692 16.8796 18.713C16.5358 19.0568 16.0695 19.25 15.5833 19.25Z",stroke:"#A960A5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),ge=e("span",{class:"text-base md:text-sm 2xl:text-base"},"Dodaj karton",-1),he=[me,ge],_e={key:1,class:"grid grid-cols-12 gap-1"},xe={class:"col-span-2"},fe={class:"my-1"},ye=["onClick"],ke={key:0,class:"col-span-10 flex items-center my-1 space-x-1 w-full bg-white p-6"},Ce=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 15.75L3 12m0 0l3.75-3.75M3 12h18"})],-1),be=e("span",null,"Odaberi datum levo",-1),we=[Ce,be],je={class:"mb-4 flex justify-between"},Me={key:0,class:"text-lg font-semibold"},He={class:"flex items-center space-x-1"},Ve=e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M10 5V10H13.75M17.5 10C17.5 10.9849 17.306 11.9602 16.9291 12.8701C16.5522 13.7801 15.9997 14.6069 15.3033 15.3033C14.6069 15.9997 13.7801 16.5522 12.8701 16.9291C11.9602 17.306 10.9849 17.5 10 17.5C9.01509 17.5 8.03982 17.306 7.12987 16.9291C6.21993 16.5522 5.39314 15.9997 4.6967 15.3033C4.00026 14.6069 3.44781 13.7801 3.0709 12.8701C2.69399 11.9602 2.5 10.9849 2.5 10C2.5 8.01088 3.29018 6.10322 4.6967 4.6967C6.10322 3.29018 8.01088 2.5 10 2.5C11.9891 2.5 13.8968 3.29018 15.3033 4.6967C16.7098 6.10322 17.5 8.01088 17.5 10Z",stroke:"black","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})],-1),$e=G('<div class="mt-10 flex items-center justify-end divide-x divide-gray-900 text-sm"><button type="button" class="flex items-center space-x-1 px-3"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.6 11.5242C5.4 11.5492 5.2 11.5758 5 11.6042M5.6 11.5242C8.52188 11.1576 11.4781 11.1576 14.4 11.5242M5.6 11.5242L5.28333 15M14.4 11.5242C14.6 11.5492 14.8 11.5758 15 11.6042M14.4 11.5242L14.7167 15L14.9075 17.1025C14.9193 17.2322 14.904 17.363 14.8624 17.4864C14.8209 17.6099 14.7541 17.7233 14.6663 17.8195C14.5785 17.9157 14.4716 17.9926 14.3524 18.0452C14.2332 18.0978 14.1044 18.125 13.9742 18.125H6.02583C5.47417 18.125 5.0425 17.6517 5.0925 17.1025L5.28333 15M5.28333 15H4.375C3.87772 15 3.40081 14.8025 3.04917 14.4508C2.69754 14.0992 2.5 13.6223 2.5 13.125V7.88C2.5 6.97917 3.14 6.20083 4.03083 6.0675C4.56079 5.98823 5.09229 5.9196 5.625 5.86167M14.715 15H15.6242C15.8705 15.0001 16.1144 14.9517 16.342 14.8575C16.5695 14.7633 16.7763 14.6252 16.9505 14.4511C17.1247 14.277 17.2629 14.0703 17.3572 13.8427C17.4515 13.6152 17.5 13.3713 17.5 13.125V7.88C17.5 6.97917 16.86 6.20083 15.9692 6.0675C15.4392 5.98823 14.9077 5.9196 14.375 5.86167M14.375 5.86167C11.4669 5.54525 8.53308 5.54525 5.625 5.86167M14.375 5.86167V2.8125C14.375 2.295 13.955 1.875 13.4375 1.875H6.5625C6.045 1.875 5.625 2.295 5.625 2.8125V5.86167M15 8.75H15.0067V8.75667H15V8.75ZM12.5 8.75H12.5067V8.75667H12.5V8.75Z" stroke="black" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path></svg><span>Recept</span></button><button type="button" class="px-3">Opravdanje</button><button type="button" class="px-3">Izjava</button></div>',1),De={class:"col-span-2 flex items-center justify-center bg-white px-6 py-3 text-3xl font-medium text-gray-500"},Se={class:"col-span-10 flex items-center space-x-1 bg-white px-6 py-3"},ze={class:"text-3xl"},Be={key:0},Te={key:1},Ye={__name:"PatientHistory",props:{patient:!0,modalOpen:!1},emits:["closeModal","openModal"],setup(k,{emit:Le}){const C=k,H=p(!1),D=p(null),b=p(null);p(!1);const c=p(!1),f=p(!1),w=p(!1),r=p(null),i=A({item:null}),j=M(()=>{var l;return(l=i.item)!=null&&l.date?new Date(i.item.date):new Date});I();const m=M(()=>{var l;return((l=C.patient.teeth)==null?void 0:l[r.value])??[]}),S=()=>{w.value=!0,D.value=null,c.value=!1,i.item=m.value[0]||null,setTimeout(()=>{w.value=!1},3e3)},z=E({_method:"delete"}),B=()=>{var l;H.value=!0,z.post(route("records.delete",{id:(l=b.value)==null?void 0:l.id}),{onFinish:()=>{c.value=!1,i.item=null,f.value=!1,H.value=!1}})},T=["18","17","16","15","14","13","12","11"],L=["21","22","23","24","25","26","27","28"],O=["31","32","33","34","35","36","37","38"],F=["48","47","46","45","44","43","42","41"],d=M(()=>Object.keys(C.patient.teeth)),y=l=>{r.value=l,i.item=null,c.value=!1};return console.log(C.patient.teeth),(l,g)=>{var V;return s(),n(v,null,[e("div",q,[e("div",J,[e("div",K,[e("div",Q,[(s(),n(v,null,_(T,(t,u)=>e("button",{type:"button",key:t,class:o([d.value.includes(t)?"ring-[1px] ring-red-400":"opacity-60","flex w-10 flex-col items-center justify-end space-y-1"]),onClick:h=>y(t)},[e("img",{src:`/storage/images/site/teeth/${t}.svg`,alt:"Slika zuba"},null,8,W),e("span",{class:o([d.value.includes(t)?"opacity-100":"opacity-60","text-sm text-gray-500"])},a(t),3)],10,U)),64))]),e("div",X,[(s(),n(v,null,_(L,(t,u)=>e("button",{type:"button",key:t,class:o([d.value.includes(t)?"ring-[1px] ring-red-400":"opacity-60","flex w-10 flex-col items-center justify-end space-y-1"]),onClick:h=>y(t)},[e("img",{src:`/storage/images/site/teeth/${t}.svg`,alt:"Slika zuba"},null,8,ee),e("span",{class:o([d.value.includes(t)?"opacity-100":"opacity-60","text-sm text-gray-500"])},a(t),3)],10,Y)),64))]),e("div",te,[(s(),n(v,null,_(F,(t,u)=>e("button",{type:"button",key:t,class:o([d.value.includes(t)?"ring-[1px] ring-red-400":"opacity-60","flex w-10 flex-col items-center justify-start space-y-1"]),onClick:h=>y(t)},[e("span",{class:o([d.value.includes(t)?"opacity-100":"opacity-60","text-sm text-gray-500"])},a(t),3),e("img",{src:`/storage/images/site/teeth/${t}.svg`,alt:"Slika zuba"},null,8,ne)],10,se)),64))]),e("div",ie,[(s(),n(v,null,_(O,(t,u)=>e("button",{type:"button",key:t,class:o([d.value.includes(t)?"ring-[1px] ring-red-400":"opacity-60","flex w-10 flex-col items-center justify-start space-y-1"]),onClick:h=>y(t)},[e("span",{class:o([d.value.includes(t)?"opacity-100":"opacity-80","text-sm text-gray-500"])},a(t),3),e("img",{src:`/storage/images/site/teeth/${t}.svg`,alt:"Slika zuba"},null,8,ae)],10,le)),64))])])]),r.value?(s(),n("div",oe,[e("div",ce,a(r.value),1),e("div",re,[e("span",de,a(m.value.length),1),[1,21,31,41,51,61,71,81,91].includes(m.value.length)?(s(),n("span",ue,"karton")):(s(),n("span",pe,"kartona"))]),e("div",ve,[e("button",{type:"button",class:"focus-visible:ring-ring inline-flex w-full items-center justify-center space-x-2 bg-pink-200 px-2 py-5 text-base uppercase text-[#8A245B] hover:bg-pink-300/70 focus-visible:outline-none focus-visible:ring-1 disabled:pointer-events-none disabled:opacity-50",onClick:g[0]||(g[0]=()=>{c.value=!0,i.item=null})},he)])])):x("",!0),m.value&&r.value?(s(),n("div",_e,[e("div",xe,[e("ul",fe,[(s(!0),n(v,null,_(m.value,(t,u)=>{var h;return s(),n("li",{key:t.id},[e("button",{type:"button",onClick:()=>i.item=t,class:o([{"bg-white":((h=i==null?void 0:i.item)==null?void 0:h.id)===t.id,"bg-emerald-100":w.value&&u===0},"flex w-full justify-center px-6 py-3 text-sm"])},a(new Date(t.date).toLocaleDateString(P(N).locale)),11,ye)])}),128))])]),r.value&&m.value.length>0&&!c.value&&!i.item?(s(),n("div",ke,we)):x("",!0),c.value||i.item?(s(),n("div",{key:((V=i.item)==null?void 0:V.id)||999999999,class:"col-span-10 w-full bg-white p-6"},[e("div",je,[c.value?(s(),n("h5",Me,"Novi karton")):x("",!0),e("div",He,[Ve,e("span",null,a(`${j.value.getHours()}:${j.value.getMinutes()}:${j.value.getSeconds()}`),1)])]),$(R,{tooth:r.value,patient:k.patient,edit:i.item,onSuccess:S,onDelete:g[1]||(g[1]=t=>{c.value=!1,f.value=!0,b.value=t})},null,8,["tooth","patient","edit"]),$e])):x("",!0)])):x("",!0),e("div",{class:o([{"opacity-75":r.value},"grid grid-cols-12 gap-1"])},[(s(!0),n(v,null,_(k.patient.teeth,(t,u)=>(s(),n(v,{key:u},[e("div",De,a(u),1),e("div",Se,[e("span",ze,a(t.length),1),[1,21,31,41,51,61,71,81,91].includes(t.length)?(s(),n("span",Be,"karton")):(s(),n("span",Te,"kartona"))])],64))),128))],2)]),$(Z,{open:f.value,onConfirm:B,onCancel:g[2]||(g[2]=()=>{f.value=!1,b.value=!1}),title:"Izbriši karton",subtitle:"Ovo je nepovratna akcija nakon koje će ovaj karton biti trajno uklonjen iz baze podataka."},null,8,["open"])],64)}}};export{Ye as default};
